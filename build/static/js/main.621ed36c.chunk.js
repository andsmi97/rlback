(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,t){e.exports="data:image/png;base64,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"},268:function(e,t,n){e.exports=n(655)},653:function(e,t,n){},655:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(30),i=n.n(o),c=n(11),l=n(12),s=n(14),d=n(13),u=n(15),p=n(19),m=n(244),E=n.n(m),g=n(242),f=n.n(g),h=n(84),S=n.n(h),T=n(25),y=n.n(T),b=n(39),N=n.n(b),O=n(52),I=n.n(O),C=n(53),_=n.n(C),A=n(245),P=n.n(A),j=n(249),R=n.n(j),D=n(251),F=n.n(D),v=n(248),w=n.n(v),k=n(246),L=n.n(k),U=n(250),W=n.n(U),x=n(247),G=n.n(x),H=n(27),M=n.n(H),B=n(24),J=n.n(B),z=n(16),V=n.n(z),Q=n(9),q=n.n(Q),K=n(31),Y=n.n(K),X=n(23),Z="https://lesnayagavan.ru",$=function(e,t){return t.filter(function(t){return e.map(function(e){return Number(e.trim().split(" ").shift())}).includes(t.houseNumber)})},ee=function(e,t){return{type:"SNACK_STATUS_OPEN",payload:{message:t,type:e,status:!0}}},te=function(e,t){return{type:"ALERT_STATUS_OPEN",payload:{message:e,alertFunction:t,status:!0}}},ne=n(73),ae=n.n(ne),re=n(67),oe=n.n(re),ie=n(114),ce=n.n(ie),le=n(68),se=n.n(le),de=n(115),ue=n.n(de),pe=n(57),me=n.n(pe),Ee=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).deletePost=function(){console.log("deleteing"),n.props.openAlert("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c?",function(){var e=n.props,t=e.id,a=e.openSnack,r=e.renderDeletePost,o=window.localStorage.getItem("token");fetch("".concat(Z,"/deletepost"),{method:"delete",headers:{"Content-Type":"application/json",Authorization:o},body:JSON.stringify({id:t})}).then(function(e){return e.json()}).then(function(e){return r(e)}).then(function(){return a("success","\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430")})})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.title,a=e.body,o=e.image,i=e.onUpdatePostClick,c=e.id;return r.a.createElement(oe.a,{className:t.card},r.a.createElement(ce.a,null,o&&r.a.createElement(me.a,{component:"img",alt:"Contemplative Reptile",className:t.media,height:"400",image:o,title:"Contemplative Reptile"}),r.a.createElement(ue.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),r.a.createElement(y.a,{component:"p",dangerouslySetInnerHTML:{__html:a}}))),r.a.createElement(se.a,{className:t.jcfe},r.a.createElement(q.a,{size:"small",color:"primary",onClick:function(){return i(c)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(q.a,{size:"small",color:"secondary",onClick:this.deletePost},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}}]),t}(r.a.Component),ge=Object(X.b)(function(e){return{snackDelete:e.postsReducer.snackDelete}},function(e){return{openSnack:function(t,n){return e(ee(t,n))},openAlert:function(t,n){return e(te(t,n))},onUpdatePostClick:function(t){return e(function(e){return{type:"SELECT_EDIT_POST",payload:e}}(t))},renderDeletePost:function(t){return e({type:"RENDER_DELETE_POST",payload:t})}}})(Object(p.withStyles)({card:{marginBottom:20},media:{objectFit:"cover"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"},jcfe:{justifyContent:"flex-end"}})(Ee)),fe=n(71),he=n.n(fe),Se=n(38),Te=n.n(Se),ye=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).onSubmitPost=function(){var e=window.localStorage.getItem("token"),t=new FormData;t.append("file",n.state.insertFile),t.append("title",n.props.titleField),t.append("body",n.props.bodyField),t.append("site","ozerodom.ru"),fetch("".concat(Z,"/addpost"),{method:"POST",body:t,headers:{Authorization:e}}).then(function(e){return e.json()}).then(function(e){return n.props.renderNewPost(e)}).then(function(){return n.props.onSuccess("success","\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")}).then(function(){return n.props.onResetInsertPostFields()}).then(function(){return n.setState({previewImage:""})})},n.onUpdatePost=function(){var e=window.localStorage.getItem("token"),t=new FormData;t.append("file",n.props.editFile1),t.append("title",n.props.editTitleField),t.append("body",n.props.editBodyField),t.append("image",n.props.editImage1),t.append("deleteimage",n.props.deleteEditImage),t.append("site","ozerodom.ru"),t.append("id",n.props.editPostID),fetch("".concat(Z,"/updatepost"),{method:"PATCH",body:t,headers:{Authorization:e}}).then(function(e){return e.json()}).then(function(e){return n.props.renderUpdatePost(e)}).then(function(){return n.props.onSuccess("success","\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")}).then(function(){return n.props.onResetUpdatePostFields()}).catch(function(e){return console.log(e)})},n.scrollToMyRef=function(){console.log("imhere"),window.scroll({top:0,behavior:"smooth"}),console.log("done")},n.modules={toolbar:[["bold","italic","underline","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","video"],["clean"]]},n.formats=["bold","italic","underline","blockquote","list","bullet","link","video"],n.onChangeInsertFile=function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;n.setState({insertFile:e.target.files[0]}),t.onload=function(e){n.setState({previewImage:e.target.result})},t.readAsDataURL(e.target.files[0])}},n.onChangeUpdateFile=function(e){if(n.props.setDeleteToFalse(),e.target.files&&e.target.files[0]){var t=new FileReader;n.props.setUploadFile1(e),t.onload=function(e){n.props.setPreviewImage1(e)},t.readAsDataURL(e.target.files[0])}},n.state={screen:"EmailSender",previewImage:"",insertFile:{},previewEditImage:"",editFile:{}},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestPosts()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onTitleChange,a=e.onBodyChange,o=e.bodyField,i=e.onEditPostBodyChange,c=e.onEditTitleChange,l=e.editTitleField,s=e.subjectField,d=e.insertWindowOpened,u=e.editWindowOpended,p=e.editImage1,m=e.previewEditImage1,E=e.loadedPosts,g=e.onCloseInsertPostWindow,f=e.onOpenInsertPostWindow,h=e.onCloseEditPostWindow,S=this.state.previewImage;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(M.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",ref:0},r.a.createElement(M.a,{item:!0,xs:8},d&&r.a.createElement(J.a,{className:t.paper},r.a.createElement(V.a,{id:"insert-title-field",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0438",value:s,margin:"dense",variant:"filled",onChange:n}),r.a.createElement(Y.a,{type:"file",onChange:this.onChangeInsertFile}),S&&r.a.createElement("img",{src:S,alt:"upload",width:"100%",height:"400",className:t.img}),r.a.createElement(ae.a,{modules:this.modules,formats:this.formats,value:o,onChange:a}),r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.onSubmitPost},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c")),u&&r.a.createElement(J.a,{className:t.paper},r.a.createElement(V.a,{id:"edit-title-field",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0438",value:l,margin:"dense",variant:"filled",onChange:c}),r.a.createElement(Y.a,{type:"file",onChange:this.onChangeUpdateFile}),m?this.props.deleteEditImage&&r.a.createElement("img",{src:m,alt:"upload",width:"100%",height:"400",className:t.img}):r.a.createElement("img",{src:p,alt:"upload",width:"100%",height:"400",className:t.img}),this.props.deleteEditImage?r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.props.setDeleteImage},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"):r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.props.setDeleteImage},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement(ae.a,{modules:this.modules,formats:this.formats,value:this.props.editBodyField,onChange:i}),r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.onUpdatePost},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c")),r.a.createElement(J.a,{className:t.paper},E.map(function(e){return r.a.createElement(ge,{title:e.title,body:e.body,id:e._id,image:e.image,key:e._id})})))),d&&!u&&r.a.createElement(q.a,{variant:"fab",className:t.fab,color:"primary",onClick:g},r.a.createElement(Te.a,null)),!d&&u&&r.a.createElement(q.a,{variant:"fab",className:t.fab,color:"primary",onClick:h},r.a.createElement(Te.a,null)),!d&&!u&&r.a.createElement(q.a,{variant:"fab",className:t.fab,color:"primary",onClick:function(){f()}},r.a.createElement(he.a,null)))}}]),t}(r.a.Component),be=Object(X.b)(function(e){return{titleField:e.postsReducer.titleField,bodyField:e.postsReducer.bodyField,loadedPosts:e.postsReducer.loadedPosts,insertWindowOpened:e.postsReducer.insertWindowOpened,editWindowOpended:e.postsReducer.editWindowOpended,editTitleField:e.postsReducer.editTitleField,editBodyField:e.postsReducer.editBodyField,editPostID:e.postsReducer.editPostID,editFile1:e.postsReducer.editFile1,previewEditImage1:e.postsReducer.previewEditImage1,editImage1:e.postsReducer.editImage1,deleteEditImage:e.postsReducer.deleteEditImage}},function(e){return{onRequestPosts:function(){return e(function(e){var t=window.localStorage.getItem("token");e({type:"REQUEST_POSTS_PENDING"}),fetch("".concat(Z,"/getposts"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({date:Date.now()})}).then(function(e){return e.json()}).then(function(t){return e({type:"REQUEST_POSTS_SUCCESS",payload:t})}).then(function(t){return e({type:"SELECT_LAST_POSTS_ON_LOAD",payload:t.payload})}).catch(function(t){return e({type:"REQUEST_POSTS_FAILED",payload:t})})})},onTitleChange:function(t){return e({type:"CHANGE_TITLE_FIELD",payload:t.target.value})},onEditTitleChange:function(t){return e({type:"CHANGE_EDIT_TITLE_FIELD",payload:t.target.value})},onBodyChange:function(t){return e({type:"CHANGE_POST_BODY_FIELD",payload:t})},onEditPostBodyChange:function(t){return e({type:"CHANGE_EDIT_POST_BODY_FIELD",payload:t})},onOpenInsertPostWindow:function(){return e({type:"OPEN_INSERT_POST_WINDOW",payload:!0})},onCloseInsertPostWindow:function(){return e({type:"CLOSE_INSERT_POST_WINDOW",payload:!1})},onOpenEditPostWindow:function(){return e({type:"OPEN_EDIT_POST_WINDOW",payload:!0})},onCloseEditPostWindow:function(){return e({type:"CLOSE_EDIT_POST_WINDOW",payload:!1})},onSuccess:function(t,n){return e(ee(t,n))},onResetInsertPostFields:function(){return e({type:"RESET_INSERT_POST_FIELDS",payload:""})},onResetUpdatePostFields:function(){return e({type:"RESET_UPDATE_POST_FIELDS",payload:""})},renderNewPost:function(t){return e({type:"RENDER_NEW_POST",payload:t})},renderUpdatePost:function(t){return e({type:"RENDER_UPDATE_POST",payload:t})},setPreviewImage1:function(t){return e({type:"SET_PREVIEW_POST_IMAGE_1",payload:t.target.result})},setUploadFile1:function(t){return e({type:"SET_UPLOAD_FILE_1",payload:t.target.files[0]})},setDeleteImage:function(){return e({type:"SET_DELETE_IMAGE"})},setDeleteToFalse:function(){e({type:"SET_DELETE_TO_FALSE"})}}})(Object(p.withStyles)(function(e){return{root:{flexGrow:1,height:440,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:3*e.spacing.unit,minWidth:0,overflowY:"scroll",marginTop:40},fab:{position:"absolute",bottom:4*e.spacing.unit,right:4*e.spacing.unit},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"},img:{objectFit:"cover"}}})(ye)),Ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).deleteProject=function(){n.props.openAlert("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442?",function(){var e=window.localStorage.getItem("token");fetch("".concat(Z,"/deleteproject"),{method:"delete",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({id:n.props.projectID})}).then(function(e){return e.json()}).then(function(e){return n.props.renderDeleteProject(e)}).then(function(){return n.props.openSnack("success","\u041f\u0440\u043e\u0435\u043a\u0442 \u0443\u0434\u0430\u043b\u0435\u043d")})})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.title,o=t.body,i=t.image,c=t.image1;return r.a.createElement(oe.a,{className:n.card},r.a.createElement(ce.a,null,i&&r.a.createElement(me.a,{component:"img",alt:"Contemplative Reptile",className:n.media,height:"400",image:i,title:"Contemplative Reptile"}),c&&r.a.createElement(me.a,{component:"img",alt:"Contemplative Reptile",className:n.media,height:"400",image:c,title:"Contemplative Reptile"}),r.a.createElement(ue.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(y.a,{component:"p",dangerouslySetInnerHTML:{__html:o}}))),r.a.createElement(se.a,{className:n.jcfe},r.a.createElement(q.a,{size:"small",color:"primary",onClick:function(){return e.props.onUpdateProjectClick(e.props.projectID)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(q.a,{size:"small",color:"secondary",onClick:this.deleteProject},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}}]),t}(r.a.Component),Oe=Object(X.b)(function(e){return{snackDelete:e.projectsReducer.snackDelete}},function(e){return{openSnack:function(t,n){return e(ee(t,n))},openAlert:function(t,n){return e(te(t,n))},onUpdateProjectClick:function(t){return e(function(e){return{type:"SELECT_EDIT_PROJECT",payload:e}}(t))},renderDeleteProject:function(t){return e({type:"RENDER_DELETE_PROJECT",payload:t})}}})(Object(p.withStyles)({card:{marginBottom:20},media:{objectFit:"cover"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"},jcfe:{justifyContent:"flex-end"}})(Ne)),Ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).onSubmitProject=function(){var e=window.localStorage.getItem("token"),t=new FormData;t.append("file1",n.state.insertFile1),t.append("file2",n.state.insertFile2),t.append("title",n.props.titleField),t.append("body",n.props.bodyField),t.append("site","ozerodom.ru"),fetch("".concat(Z,"/addproject"),{method:"POST",body:t,headers:{Authorization:e}}).then(function(e){return e.json()}).then(function(e){return n.props.renderNewProject(e)}).then(function(){return n.props.onSuccess("success","\u041f\u0440\u043e\u0435\u043a\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")}).then(function(){return n.props.onResetInsertProjectFields()}).then(function(){return n.setState({previewImage1:"",previewImage2:""})})},n.onSubmitUpdateProject=function(){var e=window.localStorage.getItem("token"),t=new FormData;t.append("file1",n.props.editFile1),t.append("file2",n.props.editFile2),t.append("image1",n.props.editImage1),t.append("image2",n.props.editImage2),t.append("title",n.props.editTitleField),t.append("body",n.props.editBodyField),t.append("site","ozerodom.ru"),t.append("id",n.props.editProjectID),fetch("".concat(Z,"/updateproject"),{method:"PATCH",body:t,headers:{Authorization:e}}).then(function(e){return e.json()}).then(function(e){return n.props.renderUpdateProject(e)}).then(function(){return n.props.onSuccess("success","\u041f\u0440\u043e\u0435\u043a\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")}).then(function(){return n.props.onResetUpdateProjectFields()}).catch(function(e){return console.log(e)})},n.scrollToMyRef=function(){window.scroll({top:0,behavior:"smooth"})},n.modules={toolbar:[["bold","italic","underline","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","video"],["clean"]]},n.formats=["bold","italic","underline","blockquote","list","bullet","link","video"],n.onChangeInsertFile1=function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;n.setState({insertFile1:e.target.files[0]}),t.onload=function(e){n.setState({previewImage1:e.target.result})},t.readAsDataURL(e.target.files[0])}},n.onChangeInsertFile2=function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;n.setState({insertFile2:e.target.files[0]}),t.onload=function(e){n.setState({previewImage2:e.target.result})},t.readAsDataURL(e.target.files[0])}},n.onChangeUpdateFile1=function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;n.props.setUploadFile1(e),t.onload=function(e){n.props.setPreviewImage1(e)},t.readAsDataURL(e.target.files[0])}},n.onChangeUpdateFile2=function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;n.props.setUploadFile2(e),t.onload=function(e){n.props.setPreviewImage2(e)},t.readAsDataURL(e.target.files[0]),n.setState(n.state)}},n.state={screen:"EmailSender",previewImage1:"",previewImage2:"",insertFile1:{},insertFile2:{},previewEditImage1:"",previewEditImage2:"",editFile:{},edit2File:{}},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestProjects()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.onTitleChange,o=t.onBodyChange,i=t.bodyField,c=t.onEditBodyChange,l=t.onEditTitleChange,s=t.editTitleField,d=t.subjectField,u=t.insertWindowOpened,p=t.editWindowOpended,m=t.editImage1,E=t.editImage2,g=t.previewEditImage1,f=t.previewEditImage2;return r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(M.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",ref:0},r.a.createElement(M.a,{item:!0,xs:8},u&&r.a.createElement(J.a,{className:n.paper},r.a.createElement(V.a,{id:"insert-title-field",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",value:d,margin:"dense",variant:"filled",onChange:a}),r.a.createElement(Y.a,{type:"file",onChange:this.onChangeInsertFile1}),this.state.previewImage1&&r.a.createElement("img",{src:this.state.previewImage1,alt:"upload",width:"100%",height:"400",className:n.img}),r.a.createElement(Y.a,{type:"file",onChange:this.onChangeInsertFile2}),this.state.previewImage2&&r.a.createElement("img",{src:this.state.previewImage2,alt:"upload",width:"100%",height:"400",className:n.img}),r.a.createElement(ae.a,{modules:this.modules,formats:this.formats,value:i,onChange:o}),r.a.createElement(q.a,{color:"primary",className:n.button,onClick:this.onSubmitProject},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442")),p&&r.a.createElement(J.a,{className:n.paper},r.a.createElement(V.a,{id:"edit-title-field",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",value:s,margin:"dense",variant:"filled",onChange:l}),r.a.createElement(Y.a,{type:"file",onChange:this.onChangeUpdateFile1}),g?r.a.createElement("img",{src:g,alt:"upload",width:"100%",height:"400",className:n.img}):r.a.createElement("img",{src:m,alt:"upload",width:"100%",height:"400",className:n.img}),r.a.createElement(Y.a,{type:"file",onChange:this.onChangeUpdateFile2}),f?r.a.createElement("img",{src:f,alt:"upload",width:"100%",height:"400",className:n.img}):r.a.createElement("img",{src:E,alt:"upload",width:"100%",height:"400",className:n.img}),r.a.createElement(ae.a,{modules:this.modules,formats:this.formats,value:this.props.editBodyField,onChange:c}),r.a.createElement(q.a,{color:"primary",className:n.button,onClick:this.onSubmitUpdateProject},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442")),r.a.createElement(J.a,{className:n.paper},this.props.loadedProjects.map(function(e){return r.a.createElement(Oe,{title:e.title,body:e.body,projectID:e._id,image:e.image1,image1:e.image2,key:e._id})})))),this.props.insertWindowOpened&&!this.props.editWindowOpended&&r.a.createElement(q.a,{variant:"fab",className:n.fab,color:"primary",onClick:this.props.onCloseInsertProjectWindow},r.a.createElement(Te.a,null)),!this.props.insertWindowOpened&&this.props.editWindowOpended&&r.a.createElement(q.a,{variant:"fab",className:n.fab,color:"primary",onClick:this.props.onCloseEditProjectWindow},r.a.createElement(Te.a,null)),!this.props.insertWindowOpened&&!this.props.editWindowOpended&&r.a.createElement(q.a,{variant:"fab",className:n.fab,color:"primary",onClick:function(){e.props.onOpenInsertProjectWindow()}},r.a.createElement(he.a,null)))}}]),t}(r.a.Component),Ce=Object(X.b)(function(e){return{titleField:e.projectsReducer.titleField,bodyField:e.projectsReducer.bodyField,loadedProjects:e.projectsReducer.loadedProjects,insertWindowOpened:e.projectsReducer.insertWindowOpened,editWindowOpended:e.projectsReducer.editWindowOpended,editTitleField:e.projectsReducer.editTitleField,editBodyField:e.projectsReducer.editBodyField,editProjectID:e.projectsReducer.editProjectID,editImage1:e.projectsReducer.editImage1,editImage2:e.projectsReducer.editImage2,editFile2:e.projectsReducer.editFile2,editFile1:e.projectsReducer.editFile1,previewEditImage1:e.projectsReducer.previewEditImage1,previewEditImage2:e.projectsReducer.previewEditImage2}},function(e){return{onRequestProjects:function(){return e(function(e){var t=window.localStorage.getItem("token");e({type:"REQUEST_PROJECTS_PENDING"}),fetch("".concat(Z,"/getprojects"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({date:Date.now()})}).then(function(e){return e.json()}).then(function(t){return e({type:"REQUEST_PROJECTS_SUCCESS",payload:t})}).catch(function(t){return e({type:"REQUEST_PROJECTS_FAILED",payload:t})})})},onTitleChange:function(t){return e({type:"CHANGE_TITLE_FIELD",payload:t.target.value})},onEditTitleChange:function(t){return e({type:"CHANGE_EDIT_TITLE_FIELD",payload:t.target.value})},onBodyChange:function(t){return e({type:"CHANGE_BODY_FIELD",payload:t})},onEditBodyChange:function(t){return e({type:"CHANGE_EDIT_BODY_FIELD",payload:t})},onOpenInsertProjectWindow:function(){return e({type:"OPEN_INSERT_PROJECT_WINDOW",payload:!0})},onCloseInsertProjectWindow:function(){return e({type:"CLOSE_INSERT_PROJECT_WINDOW",payload:!1})},onOpenEditProjectWindow:function(){return e({type:"OPEN_EDIT_PROJECT_WINDOW",payload:!0})},onCloseEditProjectWindow:function(){return e({type:"CLOSE_EDIT_PROJECT_WINDOW",payload:!1})},onSuccess:function(t,n){return e(ee(t,n))},onResetInsertProjectFields:function(){return e({type:"RESET_INSERT_PROJECT_FIELDS",payload:""})},onResetUpdateProjectFields:function(){return e({type:"RESET_UPDATE_PROJECT_FIELDS",payload:""})},renderNewProject:function(t){return e({type:"RENDER_NEW_PROJECT",payload:t})},renderUpdateProject:function(t){return e({type:"RENDER_UPDATE_PROJECT",payload:t})},setPreviewImage2:function(t){return e({type:"SET_PREVIEW_IMAGE_2",payload:t.target.result})},setPreviewImage1:function(t){return e({type:"SET_PREVIEW_IMAGE_1",payload:t.target.result})},setUploadFile1:function(t){return e({type:"SET_UPLOAD_FILE_1",payload:t.target.files[0]})},setUploadFile2:function(t){return e({type:"SET_UPLOAD_FILE_2",payload:t.target.files[0]})}}})(Object(p.withStyles)(function(e){return{root:{flexGrow:1,height:440,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:3*e.spacing.unit,minWidth:0,overflowY:"scroll",marginTop:40},fab:{position:"absolute",bottom:4*e.spacing.unit,right:4*e.spacing.unit},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"},img:{objectFit:"cover"}}})(Ie)),_e=n(3),Ae=n(265),Pe=n(35),je=n(36),Re=n(118),De=n.n(Re),Fe=n(117),ve=n.n(Fe),we=n(45),ke=n.n(we),Le=function(){return function(e){var t=window.localStorage.getItem("token");e({type:"REQUEST_SECTION_IMAGES_PENDING"}),fetch("".concat(Z,"/siteContent"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({site:"ozerodom.ru"})}).then(function(e){return e.json()}).then(function(t){return e({type:"REQUEST_SECTION_IMAGES_SUCCESS",payload:t})}).catch(function(t){return e({type:"REQUEST_SECTION_IMAGES_FAILED",payload:t})})}},Ue=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).deletePhoto=function(){n.props.openAlert("\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e?",function(){var e=window.localStorage.getItem("token");fetch("".concat(Z,"/deletePhoto"),{method:"delete",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({site:"ozerodom.ru",section:n.props.item.section,photo:n.props.item.content})}).then(function(e){return e.json()}).then(function(){return n.props.renderDeletePhoto({section:n.props.item.section,image:n.props.item.content})}).then(function(){return n.props.openSnack("success","\u0424\u043e\u0442\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e")})})},n.updatePhoto=function(e){var t=window.localStorage.getItem("token"),a=new FormData;a.append("file",e.target.files[0]),a.append("site","ozerodom.ru"),a.append("section",n.state.section),a.append("oldPhoto",n.state.image),fetch("".concat(Z,"/updatePhoto"),{method:"POST",body:a,headers:{Authorization:t}}).then(function(){return n.props.onRequestSectionsImages()})},n.onFileChange=function(e){var t=e.target.files[0];n.setState({file:t})},n.state={file:{},image:n.props.item.content,section:n.props.item.section},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.item;return r.a.createElement(oe.a,{className:t.card},r.a.createElement(se.a,{className:t.actions,disableActionSpacing:!0},r.a.createElement("input",{accept:"image/*",className:t.input,style:{display:"none"},id:"".concat(n.section,"-").concat(n.id),multiple:!0,type:"file",onChange:this.updatePhoto}),r.a.createElement("label",{htmlFor:"".concat(n.section,"-").concat(n.id)},r.a.createElement(ke.a,{"aria-label":"Edit",component:"span"},r.a.createElement(ve.a,null))),r.a.createElement(ke.a,{"aria-label":"Delete",onClick:this.deletePhoto},r.a.createElement(De.a,null))),r.a.createElement(me.a,{className:t.media,image:n.content,title:"\u041b\u0435\u0441\u043d\u0430\u044f \u0433\u0430\u0432\u0430\u043d\u044c"}))}}]),t}(r.a.Component),We=Object(X.b)(function(e){return{}},function(e){return{onRequestSectionsImages:function(){return e(Le())},renderDeletePhoto:function(t){return e({type:"RENDER_DELETE_PHOTO",payload:t})},renderUpdatePhoto:function(t){return e({type:"RENDER_UPDATE_PHOTO",payload:t})},openSnack:function(t,n){return e(ee(t,n))},openAlert:function(t,n){return e(te(t,n))}}})(Object(p.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:3*e.spacing.unit,minWidth:0,overflowY:"scroll",marginTop:60,paddingLeft:20},actions:{display:"flex",justifyContent:"flex-end"},card:{maxWidth:"100%"},media:{height:0,paddingTop:"56.25%"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"}}})(Ue)),xe=function(e,t,n){var a=Object(Pe.a)(e),r=a.splice(t,1),o=Object(Ae.a)(r,1)[0];return a.splice(n,0,o),a},Ge=function(e,t){return Object(_e.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:e?"lightgreen":"grey"},t)},He=function(e){return{background:e?"lightblue":"lightgrey",padding:8,width:400}},Me=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onDragEnd=function(e,t){var a=window.localStorage.getItem("token");if(e.destination){var r=xe(n.props[t],e.source.index,e.destination.index);n.props.reorderSection(t,r),fetch("".concat(Z,"/reorderPhotos"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({site:"ozerodom.ru",section:t,photos:r.map(function(e){return e.content})})}).then(function(e){return e.json()}).catch(function(){return console.log("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0440\u044f\u0434\u043a\u0430")})}},n.addPhoto=function(e,t){var a=window.localStorage.getItem("token"),r=new FormData;r.append("file",e.target.files[0]),r.append("site","ozerodom.ru"),r.append("section",t),fetch("".concat(Z,"/addimg"),{method:"POST",body:r,headers:{Authorization:a}}).then(function(e){return e.json()}).then(function(e){return n.props.addSectionImage(t,Object(_e.a)({},e,{id:Math.max.apply(Math,Object(Pe.a)(n.props[t].map(function(e){return e.id})))+1}))})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestSectionsImages()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.carousel,o=t.genPlan,i=t.gallery,c=t.path,l=a.map(function(e,t){return r.a.createElement(je.b,{key:e.id,draggableId:e.id,index:t},function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:Ge(n.isDragging,t.draggableProps.style)}),r.a.createElement(We,{key:e.id,item:e}))})});return r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(M.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",ref:0},r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0441\u043b\u0430\u0439\u0434\u0435\u0440\u0430"),r.a.createElement(je.a,{onDragEnd:function(t){return e.onDragEnd(t,"carousel")}},r.a.createElement(je.c,{droppableId:"droppable"},function(e,t){return r.a.createElement("div",{ref:e.innerRef,style:He(t.isDraggingOver)},l,e.placeholder)})),r.a.createElement("input",{accept:"image/*",className:n.input,style:{display:"none"},id:"addCarouselPhoto",multiple:!0,type:"file",onChange:function(t){return e.addPhoto(t,"carousel")}}),r.a.createElement("label",{htmlFor:"addCarouselPhoto"},r.a.createElement(q.a,{"aria-label":"Add",component:"span"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0413\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u043d\u0430"),r.a.createElement(je.a,{onDragEnd:function(t){return e.onDragEnd(t,"genPlan")}},r.a.createElement(je.c,{droppableId:"droppable"},function(e,t){return r.a.createElement("div",{ref:e.innerRef,style:He(t.isDraggingOver)},o.map(function(e,t){return r.a.createElement(je.b,{key:e.id,draggableId:e.id,index:t},function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:Ge(n.isDragging,t.draggableProps.style)}),r.a.createElement(We,{item:e}))})}),e.placeholder)})),r.a.createElement("input",{accept:"image/*",className:n.input,style:{display:"none"},id:"addGenPlanPhoto",multiple:!0,type:"file",onChange:function(t){return e.addPhoto(t,"genPlan")}}),r.a.createElement("label",{htmlFor:"addGenPlanPhoto"},r.a.createElement(q.a,{"aria-label":"Add",component:"span"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"\u0424\u043e\u0442\u043e\u0433\u0430\u043b\u043b\u0435\u0440\u0435\u044f"),r.a.createElement(je.a,{onDragEnd:function(t){return e.onDragEnd(t,"gallery")}},r.a.createElement(je.c,{droppableId:"droppable"},function(e,t){return r.a.createElement("div",{ref:e.innerRef,style:He(t.isDraggingOver)},i.map(function(e,t){return r.a.createElement(je.b,{key:e.id,draggableId:e.id,index:t},function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:Ge(n.isDragging,t.draggableProps.style)}),r.a.createElement(We,{item:e}))})}),e.placeholder)})),r.a.createElement("input",{accept:"image/*",className:n.input,style:{display:"none"},id:"addGalleryPhoto",multiple:!0,type:"file",onChange:function(t){return e.addPhoto(t,"gallery")}}),r.a.createElement("label",{htmlFor:"addGalleryPhoto"},r.a.createElement(q.a,{"aria-label":"Add",component:"span"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043f\u0440\u043e\u0435\u0437\u0434\u0430"),r.a.createElement(je.a,{onDragEnd:function(t){return e.onDragEnd(t,"path")}},r.a.createElement(je.c,{droppableId:"droppable"},function(e,t){return r.a.createElement("div",{ref:e.innerRef,style:He(t.isDraggingOver)},c.map(function(e,t){return r.a.createElement(je.b,{key:e.id,draggableId:e.id,index:t},function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:Ge(n.isDragging,t.draggableProps.style)}),r.a.createElement(We,{item:e}))})}),e.placeholder)}))))}}]),t}(r.a.Component),Be=Object(X.b)(function(e){return{carousel:e.sectionImagesReducer.carousel,advertising:e.sectionImagesReducer.advertising,genPlan:e.sectionImagesReducer.genPlan,gallery:e.sectionImagesReducer.gallery,path:e.sectionImagesReducer.path}},function(e){return{onRequestSectionsImages:function(){return e(Le())},reorderSection:function(t,n){return e({type:"REORDER_SECTION",payload:{section:t,order:n}})},addSectionImage:function(t,n){return e({type:"ADD_SECTION_IMAGE",payload:{section:t,item:n}})}}})(Object(p.withStyles)(function(e){return{root:{flexGrow:1,height:440,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},fab:{margin:e.spacing.unit},appBar:{zIndex:e.zIndex.drawer+1},content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:3*e.spacing.unit,minWidth:0,overflowY:"scroll",marginTop:60,paddingLeft:20},card:{maxWidth:"100%"},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex",justifyContent:"flex-end"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"},item:{maxWidth:"100%"}}})(Me)),Je=(n(555),n(70)),ze=n.n(Je),Ve=n(116),Qe=n.n(Ve),qe=n(69),Ke=n.n(qe),Ye=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).updateEmailSettings=function(){var t=window.localStorage.getItem("token");fetch("".concat(Z,"/updateemailcredentials"),{method:"put",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({user:"admin",phone:e.props.updateAdminPhoneField,email:e.props.updateAdminEmailField,password:e.props.updateAdminMailPassField,phone2:e.props.updateAdminPhone2Field})}).then(function(){return e.props.onSuccess("success","\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b")}).catch(function(e){return console.log(e)})},e.updateAccountSettings=function(){if(e.props.updateAdminAccountPassNewField===e.props.updateAdminAccountPassRepeatField){var t=window.localStorage.getItem("token");fetch("".concat(Z,"/changeaccountpassword"),{method:"put",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({user:"admin",currentPassword:e.props.updateAdminAccountPassOldField,newPassword:e.props.updateAdminAccountPassNewField})}).then(function(e){return console.log(e)}).then(function(){return e.props.openSnack("success","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b")}).then(function(){return e.props.onAccountSettingsUpdateSuccess()}).then(function(){return e.props.onResetAdminAccountSettings()}),e.setState({error:""})}else e.setState({error:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"})},e.state={error:""},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestSettings()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onUpdateAdminEmail,a=e.onUpdateAdminMailPass,o=e.onUpdateAdminAccountPassNew,i=e.onUpdateAdminAccountPassOld,c=e.onUpdateAdminAccountPassRepeat,l=e.onUpdateAdminPhone,s=e.onUpdateAdminPhone2;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(M.a,{container:!0,direction:"column",justify:"flex-start"},r.a.createElement(M.a,{item:!0,xs:4},r.a.createElement(J.a,{className:t.paper},r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"),r.a.createElement(V.a,{id:"admin-new-phone",label:"\u041f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",margin:"dense",onChange:l,value:this.props.updateAdminPhoneField}),r.a.createElement(V.a,{id:"admin-new-phone2",label:"\u0412\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",margin:"dense",onChange:s,value:this.props.updateAdminPhone2Field}),r.a.createElement(V.a,{id:"admin-new-email",label:"\u041d\u043e\u0432\u044b\u0439 Email",margin:"dense",onChange:n,type:"email",value:this.props.updateAdminEmailField}),r.a.createElement(V.a,{id:"admin-new-mail-pass",label:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0447\u0442\u044b",margin:"dense",onChange:a,type:"password",value:this.props.updateAdminMailPassField}),r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.updateEmailSettings},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))),r.a.createElement(M.a,{item:!0,xs:4},""===this.state.error?r.a.createElement(J.a,{className:t.paper},r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0410\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),r.a.createElement(V.a,{id:"admin-old-account-pass",label:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",margin:"dense",onChange:i,type:"password",value:this.props.updateAdminAccountPassOldField}),r.a.createElement(V.a,{id:"admin-new-account-pass",label:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",margin:"dense",onChange:o,type:"password",value:this.props.updateAdminAccountPassNewField}),r.a.createElement(V.a,{id:"admin-repeat-account-pass",label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",margin:"dense",onChange:c,type:"password",value:this.props.updateAdminAccountPassRepeatField}),r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.updateAccountSettings},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")):r.a.createElement(J.a,{className:t.accountSettings},r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0410\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),r.a.createElement(V.a,{id:"admin-old-account-pass",label:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",margin:"dense",onChange:i,type:"password",value:this.props.updateAdminAccountPassOldField}),r.a.createElement(ze.a,{className:t.formControl,error:!0,"aria-describedby":"component-error-text"},r.a.createElement(Ke.a,{htmlFor:"admin-new-account-pass"},"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(Y.a,{id:"admin-new-account-pass",value:this.props.updateAdminAccountPassNewField,onChange:o,margin:"dense",type:"password"}),r.a.createElement(Qe.a,{id:"component-error-text"},"\u041e\u0448\u0438\u0431\u043a\u0430")),r.a.createElement(ze.a,{className:t.formControl,error:!0,"aria-describedby":"component-error-text"},r.a.createElement(Ke.a,{htmlFor:"admin-repeat-account-pass"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(Y.a,{id:"admin-repeat-account-pass",value:this.props.updateAdminAccountPassRepeatField,onChange:c,margin:"dense",type:"password"}),r.a.createElement(Qe.a,{id:"component-error-text"},"\u041e\u0448\u0438\u0431\u043a\u0430")),r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.updateAccountSettings},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")))))}}]),t}(r.a.Component),Xe=Object(X.b)(function(e){return{updateAdminEmailField:e.settingsReducer.updateAdminEmailField,updateAdminMailPassField:e.settingsReducer.updateAdminMailPassField,updateAdminAccountPassOldField:e.settingsReducer.updateAdminAccountPassOldField,updateAdminAccountPassNewField:e.settingsReducer.updateAdminAccountPassNewField,updateAdminAccountPassRepeatField:e.settingsReducer.updateAdminAccountPassRepeatField,updateAdminPhoneField:e.settingsReducer.updateAdminPhoneField,updateAdminPhone2Field:e.settingsReducer.updateAdminPhone2Field}},function(e){return{onUpdateAdminEmail:function(t){return e({type:"CHANGE_UPDATE_ADMIN_EMAIL_FIELD",payload:t.target.value})},onUpdateAdminMailPass:function(t){return e({type:"CHANGE_UPDATE_ADMIN_MAIL_PASS_FIELD",payload:t.target.value})},onUpdateAdminAccountPassOld:function(t){return e({type:"CHANGE_UPDATE_ADMIN_ACCOUNT_PASS_OLD_FIELD",payload:t.target.value})},onUpdateAdminAccountPassNew:function(t){return e({type:"CHANGE_UPDATE_ADMIN_ACCOUNT_PASS_NEW_FIELD",payload:t.target.value})},onUpdateAdminAccountPassRepeat:function(t){return e({type:"CHANGE_UPDATE_ADMIN_ACCOUNT_PASS_REPEAT_FIELD",payload:t.target.value})},onUpdateAdminPhone:function(t){return e({type:"CHANGE_UPDATE_ADMIN_PHONE_FIELD",payload:t.target.value})},onUpdateAdminPhone2:function(t){return e({type:"CHANGE_UPDATE_ADMIN_PHONE2_FIELD",payload:t.target.value})},onRequestSettings:function(){return e(function(e){var t=window.localStorage.getItem("token");e({type:"REQUEST_SETTINGS_PENDING"}),fetch("".concat(Z,"/users"),{method:"get",headers:{Authorization:t}}).then(function(e){return e.json()}).then(function(t){return e({type:"REQUEST_SETTINGS_SUCCESS",payload:t})}).catch(function(t){return e({type:"REQUEST_SETTINGS_FAILED",payload:t})})})},onResetAdminEmailSettings:function(){return e({type:"RESET_EMAIL_SETTINGS_FIELDS",payload:""})},onResetAdminAccountSettings:function(){return e({type:"RESET_ACCOUNT_SETTINGS_FIELDS",payload:""})},openSnack:function(t,n){return e(ee(t,n))}}})(Object(p.withStyles)(function(e){return{root:{flexGrow:1,height:440,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:3*e.spacing.unit,minWidth:0,marginTop:50,overflowY:"scroll"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none",marginBottom:15,marginLeft:15},accountSettings:{display:"flex",flexDirection:"column",marginBottom:"15px",marginLeft:"15px"}}})(Ye)),Ze=n(7),$e=n.n(Ze),et=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).updateTariffs=function(){var e=window.localStorage.getItem("token");fetch("".concat(Z,"/changetariffs"),{method:"put",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({gas:n.props.tariffField})}).then(function(){return n.props.openSnack("success","\u0422\u0430\u0440\u0438\u0444\u044b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b")})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestTariffs()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onUpdateTariffs,a=e.tariffField;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(M.a,{container:!0,direction:"column",justify:"flex-start"},r.a.createElement(M.a,{item:!0,xs:4},r.a.createElement(J.a,{className:t.paper},r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"\u0422\u0430\u0440\u0438\u0444\u044b"),r.a.createElement(V.a,{id:"new-tariff",label:"\u041d\u043e\u0432\u044b\u0439 \u0442\u0430\u0440\u0438\u0444",margin:"dense",onChange:n,value:a,type:"number"}),r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.updateTariffs},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")))))}}]),t}(r.a.Component),tt=Object(X.b)(function(e){return{tariffField:e.tariffsReducer.tariffField,snackTariffs:e.tariffsReducer.snackTariffs}},function(e){return{onUpdateTariffs:function(t){return e({type:"CHANGE_UPDATE_TARIFFS_FIELD",payload:t.target.value})},onResetTariffs:function(){return e({type:"RESET_TARIFFS_FIELDS",payload:""})},onRequestTariffs:function(){return e(function(e){var t=window.localStorage.getItem("token");e({type:"REQUEST_TARIFFS_PENDING"}),fetch("".concat(Z,"/users"),{method:"get",headers:{Authorization:t}}).then(function(e){return e.json()}).then(function(t){return e({type:"REQUEST_TARIFFS_SUCCESS",payload:t})}).catch(function(t){return e({type:"REQUEST_TARIFFS_FAILED",payload:t})})})},openSnack:function(t,n){return e(ee(t,n))}}})(Object(p.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:3*e.spacing.unit,minWidth:0,marginTop:50,overflowY:"scroll"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none",marginBottom:15,marginLeft:15}}})(et)),nt=n(243),at=n.n(nt),rt=n(232),ot=n.n(rt),it=n(46),ct=n(237),lt=n.n(ct),st=n(238),dt=n.n(st),ut=n(51),pt=n.n(ut),mt=n(234),Et=n.n(mt),gt=n(239),ft=n.n(gt),ht=n(122),St=n.n(ht),Tt=n(236),yt=n.n(Tt),bt=n(235),Nt=n.n(bt),Ot=n(48),It=n(233),Ct=n.n(It);function _t(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var At=[{id:"houseNumber",numeric:!0,disablePadding:!1,label:"\u041d\u043e\u043c\u0435\u0440 \u0414\u043e\u043c\u0430"},{id:"name",numeric:!1,disablePadding:!1,label:"\u0424\u0418\u041e"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"edit",numeric:!1,disablePadding:!1,label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}],Pt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){n.props.onRequestSort(t,e)}},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.order,a=t.orderBy;return r.a.createElement(Et.a,null,r.a.createElement(St.a,null,At.map(function(t){return r.a.createElement(pt.a,{key:t.id,align:t.numeric?"right":"left",padding:t.disablePadding?"none":"default",sortDirection:a===t.id&&n},r.a.createElement(Nt.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(yt.a,{active:a===t.id,direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component),jt=function(e){var t=e.numSelected,n=e.classes;return r.a.createElement(S.a,{className:$e()(n.root,Object(it.a)({},n.highlight,t>0))},r.a.createElement("div",{className:n.title},r.a.createElement(y.a,{variant:"h6",id:"tableTitle"},"\u0416\u0438\u043b\u044c\u0446\u044b")),r.a.createElement("div",{className:n.spacer}),r.a.createElement("div",{className:n.actions}))};jt=Object(p.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ot.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(jt);var Rt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleClickOpen=function(e){n.props.openAlert("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0436\u0438\u043b\u044c\u0446\u0430?",function(){var t=window.localStorage.getItem("token");n.props.actionTenantPending(),fetch("".concat(Z,"/tenantdelete"),{method:"delete",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({houseNumber:e})}).then(function(e){return e.json()}).then(function(e){return n.props.actionTenantSuccess(e)}).then(function(e){return n.setState({data:e.payload})}).then(function(){return n.props.openSnack("success","\u0416\u0438\u043b\u0435\u0446 \u0443\u0434\u0430\u043b\u0435\u043d")})})},n.handleRequestSort=function(e,t){var a=t,r="desc";n.state.orderBy===t&&"desc"===n.state.order&&(r="asc"),n.setState({order:r,orderBy:a})},n.handleSelectAllClick=function(e){e.target.checked?n.setState(function(e){return{selected:e.data.map(function(e){return e.id})}}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected,r=a.indexOf(t),o=[];-1===r?o=o.concat(a,t):0===r?o=o.concat(a.slice(1)):r===a.length-1?o=o.concat(a.slice(0,-1)):r>0&&(o=o.concat(a.slice(0,r),a.slice(r+1))),n.setState({selected:o})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.insertTenant=function(){var e=window.localStorage.getItem("token"),t=n.props,a=t.actionTenantPending,r=t.insertTenantName,o=t.insertTenantEmail,i=t.insertTenantHouseNumber,c=t.actionTenantSuccess,l=t.openSnack,s=t.onResetInsertTenantFields;a(),fetch("".concat(Z,"/tenantinsert"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({name:r,email:o,houseNumber:i})}).then(function(e){return e.json()}).then(function(e){return c(e)}).then(function(e){return n.setState({data:e.payload})}).then(function(){return l("success","\u0416\u0438\u043b\u0435\u0446 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")}).then(function(){return s()}).catch(function(e){return console.log(e)})},n.updateTenant=function(){if(!Ct.a.isEmail(n.props.editTenantEmail))return n.setState({emailError:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email"});var e=window.localStorage.getItem("token"),t=n.props,a=t.actionTenantPending,r=t.editTenantName,o=t.editTenantEmail,i=t.editTenantHouseNumber,c=t.actionTenantSuccess,l=t.openSnack,s=t.onResetUpdateTenantFields;a(),fetch("".concat(Z,"/tenantupdate"),{method:"post",headers:{"Content-Type":"application/json",Authorization:e},body:JSON.stringify({name:r,email:o,houseNumber:i})}).then(function(e){return e.json()}).then(function(e){return c(e)}).then(function(e){return n.setState({data:e.payload})}).then(function(){return l("success","\u0416\u0438\u043b\u0435\u0446 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")}).then(function(){return s()})},n.state={order:"asc",orderBy:"houseNumber",selected:[],data:n.props.tenants,page:0,rowsPerPage:10,open:!1,emailError:""},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.order,o=t.orderBy,i=t.selected,c=t.rowsPerPage,l=t.page,s=this.props,d=s.classes,u=s.insertWindowOpened,p=s.editWindowOpened,m=s.insertTenantEmail,E=s.insertTenantHouseNumber,g=s.insertTenantName,f=s.editTenantName,h=s.editTenantHouseNumber,S=s.editTenantEmail,T=s.onInsertTenantHouseNumberChange,y=s.onInsertTenantNameChange,b=s.onInsertTenantEmailChange,N=s.onEditTenantHouseNumberChange,O=s.onEditTenantNameChange,I=s.onEditTenantEmailChange,C=s.onCloseInsertTenantWindow,_=s.onCloseEditTenantWindow,A=c-Math.min(c,n.length-l*c);return r.a.createElement("div",{style:{width:"100%"}},u&&r.a.createElement("div",{style:{width:"100%",marginTop:80}},r.a.createElement(J.a,{className:d.paper},r.a.createElement(V.a,{id:"insert-tenant-housenumber",label:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430",value:E,margin:"dense",variant:"filled",onChange:T,required:!0,type:"number"}),r.a.createElement(V.a,{id:"insert-tenant-name",label:"\u0424\u0418\u041e",value:g,margin:"dense",variant:"filled",onChange:y,required:!0,type:"text"}),this.state.emailError?r.a.createElement(V.a,{error:!0,id:"insert-tenant-error",label:this.state.emailError,margin:"dense",type:"email",defaultValue:m,onChange:function(t){e.setState({emailError:""}),b(t)},className:d.textField}):r.a.createElement(V.a,{id:"edit-tenant-email",label:"Email",value:m,margin:"dense",variant:"filled",type:"email",onChange:function(t){e.setState({emailError:""}),b(t)}}),r.a.createElement(q.a,{color:"primary",className:d.button,onClick:this.insertTenant},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0436\u0438\u043b\u044c\u0446\u0430"))),p&&r.a.createElement("div",{style:{width:"100%",marginTop:80}},r.a.createElement(J.a,{className:d.paper},r.a.createElement(V.a,{disabled:!0,id:"edit-tenant-housenumber",label:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430",value:h,margin:"dense",variant:"filled",onChange:N}),r.a.createElement(V.a,{id:"edit-tenant-name",label:"\u0424\u0418\u041e",value:f,margin:"dense",variant:"filled",onChange:O}),this.state.emailError?r.a.createElement(V.a,{error:!0,id:"standard-error",label:this.state.emailError,margin:"dense",type:"email",defaultValue:S,onChange:function(t){e.setState({emailError:""}),I(t)},className:d.textField}):r.a.createElement(V.a,{id:"edit-tenant-email",label:"Email",value:S,margin:"dense",variant:"filled",type:"email",onChange:function(t){e.setState({emailError:""}),I(t)}}),r.a.createElement(q.a,{color:"primary",className:d.button,onClick:this.updateTenant},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0436\u0438\u043b\u044c\u0446\u0430"))),r.a.createElement(J.a,{className:d.root},r.a.createElement(jt,{numSelected:i.length}),r.a.createElement("div",{className:d.tableWrapper},r.a.createElement(lt.a,{className:d.table,"aria-labelledby":"tableTitle"},r.a.createElement(Pt,{order:a,orderBy:o,onRequestSort:this.handleRequestSort,rowCount:n.length}),r.a.createElement(dt.a,null,function(e,t){var n=e.map(function(e,t){return[e,t]});return n.sort(function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]}),n.map(function(e){return e[0]})}(n,function(e,t){return"desc"===e?function(e,n){return _t(e,n,t)}:function(e,n){return-_t(e,n,t)}}(a,o)).slice(l*c,l*c+c).map(function(t){var n=e.isSelected(t.id);return r.a.createElement(St.a,{hover:!0,tabIndex:-1,key:t._id,selected:n},r.a.createElement(pt.a,{component:"th",scope:"row",padding:"default"},t.houseNumber),r.a.createElement(pt.a,{align:"right"},t.name),r.a.createElement(pt.a,{align:"right"},t.email),r.a.createElement(pt.a,{align:"right"},r.a.createElement(ke.a,{"aria-label":"Edit",component:"span",color:"primary",onClick:function(){return e.props.onUpdateTenantClick(t._id)}},r.a.createElement(ve.a,null)),r.a.createElement(ke.a,{"aria-label":"Delete",color:"secondary",onClick:function(){return e.handleClickOpen(t.houseNumber)}},r.a.createElement(De.a,null))))}),A>0&&r.a.createElement(St.a,{style:{height:49*A}},r.a.createElement(pt.a,{colSpan:6}))))),r.a.createElement(ft.a,{rowsPerPageOptions:[5,10],component:"div",count:n.length,rowsPerPage:c,page:l,labelRowsPerPage:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),u&&!p&&r.a.createElement(q.a,{variant:"fab",className:d.fab,color:"primary",onClick:C},r.a.createElement(Te.a,null)),!u&&p&&r.a.createElement(q.a,{variant:"fab",className:d.fab,color:"primary",onClick:_},r.a.createElement(Te.a,null)),!u&&!p&&r.a.createElement(q.a,{variant:"fab",className:d.fab,color:"primary",onClick:function(){e.props.onOpenInsertTenantWindow()}},r.a.createElement(he.a,null)))}}]),t}(r.a.Component),Dt=Object(X.b)(function(e){return{insertTenantEmail:e.tenantsReducer.insertTenantEmail,insertTenantHouseNumber:e.tenantsReducer.insertTenantHouseNumber,insertTenantName:e.tenantsReducer.insertTenantName,insertWindowOpened:e.tenantsReducer.insertWindowOpened,editWindowOpened:e.tenantsReducer.editWindowOpened,editTenantName:e.tenantsReducer.editTenantName,editTenantEmail:e.tenantsReducer.editTenantEmail,editTenantHouseNumber:e.tenantsReducer.editTenantHouseNumber,editTenantID:e.tenantsReducer.editTenantID,tenants:e.tenantsReducer.tenants,error:e.tenantsReducer.error,isPending:e.tenantsReducer.isPending,snackInsert:e.tenantsReducer.snackInsert,snackUpdate:e.tenantsReducer.snackUpdate,snackDelete:e.tenantsReducer.snackDelete}},function(e){return{onRequestPosts:function(){return e(function(e){var t=window.localStorage.getItem("token");e({type:"REQUEST_TENANTS_PENDING"}),fetch("".concat(Z,"/gettenants"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({date:Date.now()})}).then(function(e){return e.json()}).then(function(t){return e({type:"REQUEST_TENANTS_SUCCESS",payload:t})}).catch(function(t){return e({type:"REQUEST_TENANTS_FAILED",payload:t})})})},onInsertTenantHouseNumberChange:function(t){return e({type:"CHANGE_INSERT_TENANT_HOUSENUMBER",payload:t.target.value})},onInsertTenantNameChange:function(t){return e({type:"CHANGE_INSERT_TENANT_NAME",payload:t.target.value})},onInsertTenantEmailChange:function(t){return e({type:"CHANGE_INSERT_TENANT_EMAIL",payload:t.target.value})},onEditTenantHouseNumberChange:function(t){return e({type:"CHANGE_EDIT_TENANT_HOUSENUMBER",payload:t.target.value})},onEditTenantNameChange:function(t){return e({type:"CHANGE_EDIT_TENANT_NAME",payload:t.target.value})},onEditTenantEmailChange:function(t){return e({type:"CHANGE_EDIT_TENANT_EMAIL",payload:t.target.value})},onOpenInsertTenantWindow:function(){return e({type:"OPEN_INSERT_TENANT_WINDOW",payload:!0})},onCloseInsertTenantWindow:function(){return e({type:"CLOSE_INSERT_TENANT_WINDOW",payload:!1})},onOpenEditTenantWindow:function(){return e({type:"OPEN_EDIT_TENANT_WINDOW",payload:!0})},onCloseEditTenantWindow:function(){return e({type:"CLOSE_EDIT_TENANT_WINDOW",payload:!1})},openSnack:function(t,n){return e(ee(t,n))},openAlert:function(t,n){return e(te(t,n))},onResetInsertTenantFields:function(){return e({type:"RESET_INSERT_TENANT_FIELDS",payload:""})},onResetUpdateTenantFields:function(){return e({type:"RESET_UPDATE_TENANT_FIELDS",payload:""})},onUpdateTenantClick:function(t){return e(function(e){return{type:"SELECT_EDIT_TENANT",payload:e}}(t))},actionTenantPending:function(){return e({type:"ACTION_TENANT_PENDING"})},actionTenantSuccess:function(t){return e({type:"ACTION_TENANT_SUCCESS",payload:t})}}})(Object(p.withStyles)(function(e){return{root:{width:"100%",marginTop:80},table:{minWidth:1020,paddingLeft:20},tableWrapper:{overflowX:"auto"},fab:{position:"absolute",bottom:4*e.spacing.unit,right:4*e.spacing.unit},paper:{display:"flex",justifyContent:"center",flexDirection:"column",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"}}})(Rt)),Ft=n(149),vt=n.n(Ft),wt=n(112),kt=n.n(wt),Lt=n(240),Ut=n.n(Lt),Wt={PaperProps:{style:{maxHeight:224,width:250}}},xt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestTenants()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onTenantChange,a=e.selectedTenants,o=e.tenantsArray,i=e.onSelectAllTenants,c=e.onResetTenants;return r.a.createElement(J.a,{className:t.paper},r.a.createElement("div",{className:t.root},r.a.createElement(ze.a,{className:t.selectedName},r.a.createElement(Ke.a,{htmlFor:"select-multiple-chip"},"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438"),r.a.createElement(kt.a,{multiple:!0,value:a,onChange:n,input:r.a.createElement(Y.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map(function(e){return r.a.createElement(Ut.a,{key:e,label:e,className:t.chip})}))},MenuProps:Wt},o.map(function(e){return r.a.createElement(vt.a,{key:e,value:e},e)}))),r.a.createElement(q.a,{color:"primary",className:t.button,onClick:i},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435\u0445"),r.a.createElement(q.a,{color:"primary",className:t.button,onClick:c},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440")))}}]),t}(r.a.Component),Gt=Object(X.b)(function(e){return{selectedTenants:e.requestTenants.selectedTenants,tenants:e.requestTenants.tenants,tenantsArray:e.requestTenants.tenantsArray,isPending:e.requestTenants.isPending,error:e.requestTenants.error}},function(e){return{onTenantChange:function(t){return e({type:"CHANGE_SELECTED_TENANTS",payload:t.target.value})},onRequestTenants:function(){return e(function(e){var t=window.localStorage.getItem("token");e({type:"REQUEST_TENANTS_PENDING"}),fetch("".concat(Z,"/tenants"),{method:"get",headers:{Authorization:t}}).then(function(e){return e.json()}).then(function(t){return e({type:"REQUEST_TENANTS_SUCCESS",payload:t})}).then(function(t){return e({type:"SELECT_ALL_TENANTS_ON_LOAD",payload:(n=t.payload,n.map(function(e){return"".concat(e.houseNumber," ").concat(e.name)}))});var n}).catch(function(t){return e({type:"REQUEST_TENANTS_FAILED",payload:t})})})},onSelectAllTenants:function(t){return e({type:"SELECT_ALL_TENANTS"})},onResetTenants:function(){return e({type:"RESET_ALL_TENANTS"})}}})(Object(p.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",alignItems:"center",width:"100%",justifyContent:"center"},formControl:{margin:e.spacing.unit,minWidth:120,maxWidth:300,marginTop:20,paddingTop:10},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing.unit/4},selectedName:{width:"90%"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"}}},{withTheme:!0})(xt)),Ht=n(266),Mt=n(120),Bt=n.n(Mt),Jt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(){var e=n.props,t=e.files,a=e.subjectField,r=e.messageField,o=e.selectedTenantsObject,i=e.sendingEmailSuccess,c=e.openSnack,l=e.onResetMessageFields,s=e.sendingEmailPending,d=window.localStorage.getItem("token"),u=t.map(function(e){return Number(e.name.match(/^(\d*)/)[0])}),p=o.map(function(e){return e.houseNumber});if(u.length===p.length&&u.sort().every(function(e,t){return e===p.sort()[t]})||0===t.length){var m=new FormData;t.forEach(function(e){m.append("".concat(e.name),e)}),m.append("subject",a),m.append("message",r),o.forEach(function(e){m.append("".concat(e.houseNumber,"name"),e.name),m.append("".concat(e.houseNumber,"email"),e.email)}),s(),fetch("".concat(Z,"/mail"),{method:"POST",headers:{Authorization:d},body:m}).then(function(e){return e.json()}).then(function(){return i()}).then(function(){return c("success","\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b")}).then(function(){return l()}).catch(function(e){return c("error","\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")})}else n.props.openAlert("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0432\u0443\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f\u043c, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443?",function(){var e=new FormData;t.forEach(function(t){e.append("".concat(t.name),t)}),e.append("subject",a),e.append("message",r),o.forEach(function(t){e.append("".concat(t.houseNumber,"name"),t.name),e.append("".concat(t.houseNumber,"email"),t.email)}),s(),fetch("".concat(Z,"/mail"),{method:"POST",headers:{Authorization:d},body:e}).then(function(e){return e.json()}).then(function(){return i()}).then(function(){return c("success","\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b")}).then(function(){return l()}).catch(function(e){return c("error","\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")})})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onMessageChange,a=e.onSubjectChange,o=e.onDrop,i=e.onCancel,c=e.files,l=e.isEmailPending,s=e.subjectField,d=e.messageField;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(M.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(M.a,{item:!0,xs:8},r.a.createElement(J.a,{className:t.paper},r.a.createElement(V.a,{id:"standard-dense",label:"\u0422\u0435\u043c\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",value:s,margin:"dense",variant:"filled",onChange:a}),r.a.createElement(V.a,{id:"filled-multiline-static",label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",multiline:!0,rows:"15",className:t.textField,margin:"normal",variant:"filled",value:d,onChange:n}),r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement(Ht.a,{className:t.dropZone,onDrop:o.bind(this),onFileDialogCancel:i.bind(this)},r.a.createElement("p",{className:"dropboxtext"},"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u043b\u0438 \u0432\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438."))),c.length<1?r.a.createElement("aside",null):r.a.createElement("aside",{className:"filestosend"},r.a.createElement("h2",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b"),r.a.createElement("ul",null,c.map(function(e){return r.a.createElement("li",{key:e.name},e.name," - ",e.size," \u0431\u0430\u0439\u0442")})))),l?r.a.createElement("div",null,r.a.createElement(Bt.a,{className:t.progress})):r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.onSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))),r.a.createElement(M.a,{item:!0,xs:4},r.a.createElement(Gt,null))))}}]),t}(r.a.Component),zt=Object(X.b)(function(e){return{subjectField:e.emailReducer.subjectField,messageField:e.emailReducer.messageField,files:e.emailReducer.files,selectedTenantsObject:e.requestTenants.selectedTenantsObject,isEmailPending:e.emailReducer.isEmailPending}},function(e){return{onMessageChange:function(t){return e({type:"CHANGE_MESSAGE_FIELD",payload:t.target.value})},onSubjectChange:function(t){return e({type:"CHANGE_SUBJECT_FIELD",payload:t.target.value})},onDrop:function(t){return e(function(e){return{type:"CHANGE_SENDING_FILES",payload:e}}(t))},onCancel:function(){return e({type:"REMOVE_SENDING_FILES",payload:[]})},openSnack:function(t,n){return e(ee(t,n))},openAlert:function(t,n){return e(te(t,n))},onResetMessageFields:function(){return e({type:"RESET_EMAIL_FIELDS",payload:""})},sendingEmailPending:function(){return e({type:"SENDING_EMAIL_PENDING"})},sendingEmailSuccess:function(){return e({type:"SENDING_EMAIL_SUCCESS"})},sendingEmailError:function(t){return e({type:"SENDING_EMAIL_ERROR",payload:t})}}})(Object(p.withStyles)(function(e){return{root:{flexGrow:1,height:440,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:3*e.spacing.unit,minWidth:0,overflowY:"scroll",marginTop:60},dropZone:{position:"relative",width:"100%",height:"200px",borderWidth:"2px",borderColor:"rgba(102, 102, 102, 0.5)",borderStyle:"dashed",borderRadius:"5px",fontFamily:"Roboto",padding:"10px",boxSizing:"border-box",marginBottom:"10px"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:"2%",padding:"15px!important",paddingTop:"20px",backgroundColor:"rgba(255, 255, 255, 0)",boxShadow:"none"}}})(Jt)),Vt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).changeSection=function(e){n.setState({screen:e})},n.state={screen:"EmailSender"},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.screen;return r.a.createElement("div",{className:t.root},r.a.createElement(f.a,{position:"absolute",className:t.appBar},r.a.createElement(S.a,null,r.a.createElement(at.a,{alt:"\u041b\u0435\u0441\u043d\u0430\u044f \u0433\u0430\u0432\u0430\u043d\u044c",src:ot.a,className:$e()(t.avatar,t.bigAvatar)}),r.a.createElement(y.a,{variant:"title",color:"inherit",noWrap:!0},"\u041b\u0435\u0441\u043d\u0430\u044f \u0413\u0430\u0432\u0430\u043d\u044c"))),r.a.createElement(E.a,{variant:"permanent",classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(N.a,null),r.a.createElement(N.a,{button:!0,onClick:function(){return e.changeSection("EmailSender")}},r.a.createElement(I.a,null,r.a.createElement(P.a,null)),r.a.createElement(_.a,{primary:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430"})),r.a.createElement(N.a,{button:!0,onClick:function(){return e.changeSection("News")}},r.a.createElement(I.a,null,r.a.createElement(L.a,null)),r.a.createElement(_.a,{primary:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})),r.a.createElement(N.a,{button:!0,onClick:function(){return e.changeSection("Projects")}},r.a.createElement(I.a,null,r.a.createElement(G.a,null)),r.a.createElement(_.a,{primary:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"})),r.a.createElement(N.a,{button:!0,onClick:function(){return e.changeSection("Tenants")}},r.a.createElement(I.a,null,r.a.createElement(w.a,null)),r.a.createElement(_.a,{primary:"\u0416\u0438\u043b\u044c\u0446\u044b"})),r.a.createElement(N.a,{button:!0,onClick:function(){return e.changeSection("Tariffs")}},r.a.createElement(I.a,null,r.a.createElement(R.a,null)),r.a.createElement(_.a,{primary:"\u0422\u0430\u0440\u0438\u0444\u044b"})),r.a.createElement(N.a,{button:!0,onClick:function(){return e.changeSection("SectionImages")}},r.a.createElement(I.a,null,r.a.createElement(W.a,null)),r.a.createElement(_.a,{primary:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435"})),r.a.createElement(N.a,{button:!0,onClick:function(){return e.changeSection("Settings")}},r.a.createElement(I.a,null,r.a.createElement(F.a,null)),r.a.createElement(_.a,{primary:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}))),"EmailSender"===n&&r.a.createElement(zt,null),"News"===n&&r.a.createElement(be,null),"Tariffs"===n&&r.a.createElement(tt,null),"Tenants"===n&&r.a.createElement(Dt,null),"Settings"===n&&r.a.createElement(Xe,null),"SectionImages"===n&&r.a.createElement(Be,null),"Projects"===n&&r.a.createElement(Ce,null))}}]),t}(r.a.Component),Qt=Object(X.b)(function(e){return{}},function(e){return{}})(Object(p.withStyles)(function(e){return{root:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex",height:"100%"},appBar:{zIndex:e.zIndex.drawer+1},drawerPaper:{position:"relative",width:240,padding:"5px"},typography:{useNextVariants:!0},avatar:{margin:10},bigAvatar:{width:60,height:60},toolbar:e.mixins.toolbar}})(Vt)),qt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).saveAuthTokenInSessions=function(e){window.localStorage.setItem("token",e)},n.onSubmitSignIn=function(){fetch("".concat(Z,"/login"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"admin",password:n.props.passwordField})}).then(function(e){return e.json()}).then(function(e){e&&"true"===e.success?(n.saveAuthTokenInSessions(e.token),n.props.onCorrectResponse()):n.props.onWrongResponse("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")}).catch(function(e){return n.props.openSnack("error","\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onUpdatePasswordField,a=e.error;return e.pending?r.a.createElement("div",{className:t.root},r.a.createElement(Bt.a,{className:t.progress})):r.a.createElement("div",{className:t.root},r.a.createElement(V.a,{id:"user",label:"\u041b\u043e\u0433\u0438\u043d",margin:"dense",type:"username",value:"admin",onChange:n}),a?r.a.createElement(V.a,{error:!0,id:"standard-error",label:a,margin:"dense",type:"password",defaultValue:this.props.passwordField,onChange:n,className:t.textField}):r.a.createElement(V.a,{id:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",margin:"dense",type:"password",onChange:n,value:this.props.passwordField}),a,r.a.createElement(q.a,{color:"primary",className:t.button,onClick:this.onSubmitSignIn},"\u0412\u043e\u0439\u0442\u0438"))}}]),t}(r.a.Component),Kt=Object(X.b)(function(e){return{passwordField:e.authReducer.passwordField,error:e.authReducer.error,pending:e.appReducer.authPending}},function(e){return{onUpdatePasswordField:function(t){return e({type:"CHANGE_PASSWORD_FIELD",payload:t.target.value})},onCorrectResponse:function(){return e({type:"ON_CORRECT_RESPONSE",payload:!0})},onWrongResponse:function(t){return e({type:"ON_WRONG_RESPONSE",payload:t})}}})(Object(p.withStyles)(function(e){return{root:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}})(qt)),Yt=n(267),Xt=n(258),Zt=n.n(Xt),$t=n(252),en=n.n($t),tn=n(254),nn=n.n(tn),an=n(255),rn=n.n(an),on=n(256),cn=n.n(on),ln=n(257),sn=n.n(ln),dn=n(150),un=n.n(dn),pn=n(253),mn=n.n(pn),En={success:en.a,warning:mn.a,error:nn.a,info:rn.a},gn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.message,o=e.onClose,i=e.variant,c=e.open,l=Object(Yt.a)(e,["classes","className","message","onClose","variant","open"]),s=En[i];return r.a.createElement("div",null,r.a.createElement(Zt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:c,autoHideDuration:6e3,onClose:o,ContentProps:{"aria-describedby":"message-id"}},r.a.createElement(un.a,Object.assign({className:$e()(t[i],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(s,{className:$e()(t.icon,t.iconVariant)}),a),action:[r.a.createElement(ke.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(Te.a,{className:t.icon}))]},l))))}}]),t}(r.a.Component),fn=Object(p.withStyles)(function(e){return{close:{padding:e.spacing.unit/2},success:{backgroundColor:cn.a[600],flexDirection:"row!important"},error:{backgroundColor:e.palette.error.dark,flexDirection:"row!important"},info:{backgroundColor:e.palette.primary.dark,flexDirection:"row!important"},warning:{backgroundColor:sn.a[700],flexDirection:"row!important"},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(gn),hn=n(259),Sn=n.n(hn),Tn=n(262),yn=n.n(Tn),bn=n(261),Nn=n.n(bn),On=n(260),In=n.n(On),Cn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.handleClose,a=e.message,o=e.handleAccept;return r.a.createElement(Sn.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(In.a,{id:"alert-dialog-title"},a),r.a.createElement(Nn.a,null),r.a.createElement(yn.a,null,r.a.createElement(q.a,{onClick:n,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(q.a,{onClick:o,color:"primary",autoFocus:!0},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))}}]),t}(r.a.Component),_n=(n(653),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onAuth()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.snackType,a=e.snackMessage,o=e.snackStatus,i=e.onSnackClose,c=e.isResponseCorrect,l=e.alertStatus,s=e.alertMessage,d=e.onAlertClose,u=e.onAlertAccept,p=e.alertFunction;return r.a.createElement("div",{className:t.root},c?r.a.createElement(Qt,null):r.a.createElement(Kt,null),r.a.createElement(fn,{open:o,variant:n,message:a,onClose:i}),r.a.createElement(Cn,{open:l,message:s,handleClose:d,handleAccept:function(){p(),u()}}))}}]),t}(a.Component)),An=Object(X.b)(function(e){return{isResponseCorrect:e.authReducer.isResponseCorrect,snackType:e.appReducer.snackType,snackMessage:e.appReducer.snackMessage,snackStatus:e.appReducer.snackStatus,alertMessage:e.appReducer.alertMessage,alertStatus:e.appReducer.alertStatus,alertFunction:e.appReducer.alertFunction}},function(e){return{onSnackClose:function(){return e({type:"SNACK_STATUS_CLOSE",payload:!1})},onAlertClose:function(){return e({type:"ALERT_STATUS_CLOSE",payload:!1})},onAlertAccept:function(){return e({type:"ALERT_STATUS_ACCEPT",payload:{status:!1,alertFunction:function(){}}})},onAuth:function(){return e(function(e){var t=window.localStorage.getItem("token");t&&(e({type:"AUTH_PENDING",payload:!0}),fetch("".concat(Z,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t}}).then(function(e){return e.json()}).then(function(t){return t&&"true"===t.success&&e({type:"ON_CORRECT_RESPONSE",payload:!0}),t}).then(function(t){return e({type:"AUTH_SUCCESS",payload:t})}).catch(function(t){e({type:"AUTH_SUCCESS",payload:t}),e({type:"ON_WRONG_RESPONSE",payload:t})}))})}}})(Object(p.withStyles)(function(e){return{root:{height:"100vh"}}})(_n));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pn,jn=n(34),Rn=n(263),Dn=n(264),Fn={snackType:"success",snackMessage:"",snackStatus:!1,authPending:!1,isResponseCorrect:!1,alertMessage:"",alertStatus:!1,alertFunction:function(){}},vn={tenants:[],tenantsArray:[],selectedTenants:[],selectedTenantsObject:{},isPending:!1,error:"",isTenantActionPending:!1},wn={subjectField:"",messageField:"",files:[],isEmailPending:!1},kn={tariffField:"",isPending:!1,error:""},Ln={updateAdminEmailField:"",updateAdminMailPassField:"",updateAdminPhoneField:"",updateAdminPhone2Field:"",updateAdminAccountPassOldField:"",updateAdminAccountPassNewField:"",updateAdminAccountPassRepeatField:"",isPending:!1,error:""},Un={passwordField:"",isPasswordPending:!1,error:"",isResponseCorrect:!1},Wn={titleField:"",bodyField:"",isPending:!1,loadedPosts:[],insertWindowOpened:!1,editWindowOpended:!1,editTitleField:"",editBodyField:"",editPostID:"",editFile1:{},previewEditImage1:"",deleteEditImage:!1},xn=function(e,t){return t.loadedPosts.filter(function(t){return t._id===e})[0]},Gn={titleField:"",bodyField:"",isPending:!1,loadedProjects:[],insertWindowOpened:!1,editWindowOpended:!1,editTitleField:"",editBodyField:"",editProjectID:"",previewEditImage1:"",editImage1:"",previewEditImage2:"",editImage2:"",editFile1:{},editFile2:{},snackInsert:!1,snackUpdate:!1,snackDelete:!1},Hn=function(e,t){return t.loadedProjects.filter(function(t){return t._id===e})[0]},Mn={insertTenantName:"",insertTenantEmail:"",insertTenantHouseNumber:"",insertWindowOpened:!1,editWindowOpened:!1,editTenantName:"",editTenantEmail:"",editTenantHouseNumber:"",editTenantID:"",tenants:[],emailError:"",nameError:"",houseNumberError:"",isPending:!1},Bn=function(e,t){return t.tenants.filter(function(t){return t._id===e})[0]},Jn={snackInsert:!1,snackUpdate:!1,snackDelete:!1,snackMessageSend:!1},zn={snackInsert:!1,snackUpdate:!1,snackDelete:!1,snackMessageSend:!1,editableProjectID:0},Vn={carousel:[],advertising:[],genPlan:[],gallery:[],path:[]},Qn=(Object(Rn.createLogger)(),Object(jn.c)({emailReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_MESSAGE_FIELD":return Object(_e.a)({},e,{messageField:t.payload});case"CHANGE_SUBJECT_FIELD":return Object(_e.a)({},e,{subjectField:t.payload});case"CHANGE_SENDING_FILES":case"REMOVE_SENDING_FILES":return Object(_e.a)({},e,{files:t.payload});case"RESET_EMAIL_FIELDS":return Object(_e.a)({},e,{subjectField:"",messageField:"",files:[]});case"SENDING_EMAIL_PENDING":return Object(_e.a)({},e,{isEmailPending:!0});case"SENDING_EMAIL_SUCCESS":return Object(_e.a)({},e,{isEmailPending:!1});case"SENDING_EMAIL_ERROR":return Object(_e.a)({},e,{error:t.payload,isEmailPending:!1});default:return e}},requestTenants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_TENANTS_PENDING":return Object(_e.a)({},e,{isPending:!0});case"REQUEST_TENANTS_SUCCESS":return Object(_e.a)({},e,{tenants:t.payload,isPending:!1});case"REQUEST_TENANTS_FAILED":return Object(_e.a)({},e,{error:t.payload,isPending:!1});case"SELECT_ALL_TENANTS_ON_LOAD":return Object(_e.a)({},e,{tenantsArray:t.payload,selectedTenants:t.payload,selectedTenantsObject:$(t.payload,e.tenants)});case"SELECT_ALL_TENANTS":return Object(_e.a)({},e,{selectedTenants:Object(Pe.a)(e.tenantsArray),selectedTenantsObject:$(e.tenantsArray,e.tenants)});case"RESET_ALL_TENANTS":return Object(_e.a)({},e,{selectedTenants:[],selectedTenantsObject:$([],e.tenants)});case"CHANGE_SELECTED_TENANTS":return Object(_e.a)({},e,{selectedTenants:t.payload,selectedTenantsObject:$(t.payload,e.tenants)});case"ACTION_TENANT_PENDING":return Object(_e.a)({},e,{isTenantActionPending:!0});case"ACTION_TENANT_SUCCESS":return Object(_e.a)({},e,{tenants:t.payload,isTenantActionPending:!1});case"ACTION_TENANTS_FAILED":return Object(_e.a)({},e,{error:t.payload,isTenantActionPending:!1});default:return e}},postsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_TITLE_FIELD":return Object(_e.a)({},e,{titleField:t.payload});case"CHANGE_POST_BODY_FIELD":return Object(_e.a)({},e,{bodyField:t.payload});case"CHANGE_EDIT_TITLE_FIELD":return Object(_e.a)({},e,{editTitleField:t.payload});case"CHANGE_EDIT_POST_BODY_FIELD":return Object(_e.a)({},e,{editBodyField:t.payload});case"REQUEST_POSTS_SUCCESS":return Object(_e.a)({},e,{loadedPosts:t.payload,isPending:!1});case"OPEN_INSERT_POST_WINDOW":case"CLOSE_INSERT_POST_WINDOW":return Object(_e.a)({},e,{insertWindowOpened:t.payload});case"OPEN_EDIT_POST_WINDOW":case"CLOSE_EDIT_POST_WINDOW":return Object(_e.a)({},e,{editWindowOpended:t.payload});case"SELECT_EDIT_POST":return Object(_e.a)({},e,{editPostID:t.payload,editBodyField:xn(t.payload,e).body,editTitleField:xn(t.payload,e).title,editImage1:xn(t.payload,e).image,editWindowOpended:!0,insertWindowOpened:!1});case"SET_DELETE_IMAGE":return Object(_e.a)({},e,{deleteEditImage:!e.deleteEditImage});case"SET_DELETE_TO_FALSE":return Object(_e.a)({},e,{deleteEditImage:!1});case"RESET_INSERT_POST_FIELDS":return Object(_e.a)({},e,{titleField:"",bodyField:"",insertWindowOpened:!1});case"RESET_UPDATE_POST_FIELDS":return Object(_e.a)({},e,{editTitleField:"",editBodyField:"",editPostID:"",editWindowOpended:!1});case"RENDER_NEW_POST":return Object(_e.a)({},e,{loadedPosts:[t.payload].concat(Object(Pe.a)(e.loadedPosts))});case"RENDER_UPDATE_POST":return Object(_e.a)({},e,{loadedPosts:e.loadedPosts.map(function(n,a){return a===function(e,t){return t.loadedPosts.reduce(function(t,n,a){return n._id===e?t+a:t},0)}(t.payload._id,e)?t.payload:n})});case"SET_PREVIEW_POST_IMAGE_1":return Object(_e.a)({},e,{previewEditImage1:t.payload});case"SET_UPLOAD_FILE_1":return Object(_e.a)({},e,{editFile1:t.payload});case"RENDER_DELETE_POST":return Object(_e.a)({},e,{loadedPosts:e.loadedPosts.filter(function(e){return e._id!==t.payload._id})});default:return e}},postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SWITCH_INSERTION_SUCCESS":case"SWITCH_INSERTION_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackInsert:t.payload});case"SWITCH_DELETE_SUCCESS":case"SWITCH_DELETE_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackDelete:t.payload});case"SWITCH_UPDATE_SUCCESS":case"SWITCH_UPDATE_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackUpdate:t.payload});default:return e}},settingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_SETTINGS_PENDING":return Object(_e.a)({},e,{isPending:!0});case"REQUEST_SETTINGS_SUCCESS":return Object(_e.a)({},e,{updateAdminEmailField:t.payload[0].MAIL.USER,updateAdminPhoneField:t.payload[0].phone,updateAdminPhone2Field:t.payload[0].phone2,updateAdminMailPassField:t.payload[0].MAIL.PASSWORD,isPending:!1});case"REQUEST_SETTINGS_FAILED":return Object(_e.a)({},e,{error:t.payload,isPending:!1});case"CHANGE_UPDATE_ADMIN_EMAIL_FIELD":return Object(_e.a)({},e,{updateAdminEmailField:t.payload});case"CHANGE_UPDATE_ADMIN_MAIL_PASS_FIELD":return Object(_e.a)({},e,{updateAdminMailPassField:t.payload});case"CHANGE_UPDATE_ADMIN_ACCOUNT_PASS_OLD_FIELD":return Object(_e.a)({},e,{updateAdminAccountPassOldField:t.payload});case"CHANGE_UPDATE_ADMIN_ACCOUNT_PASS_NEW_FIELD":return Object(_e.a)({},e,{updateAdminAccountPassNewField:t.payload});case"CHANGE_UPDATE_ADMIN_ACCOUNT_PASS_REPEAT_FIELD":return Object(_e.a)({},e,{updateAdminAccountPassRepeatField:t.payload});case"CHANGE_UPDATE_ADMIN_PHONE_FIELD":return Object(_e.a)({},e,{updateAdminPhoneField:t.payload});case"CHANGE_UPDATE_ADMIN_PHONE2_FIELD":return Object(_e.a)({},e,{updateAdminPhone2Field:t.payload});case"RESET_EMAIL_SETTINGS_FIELDS":return Object(_e.a)({},e,{updateAdminEmailField:"",updateAdminMailPassField:"",updateAdminPhoneField:"",updateAdminPhone2Field:""});case"RESET_ACCOUNT_SETTINGS_FIELDS":return Object(_e.a)({},e,{updateAdminAccountPassOldField:"",updateAdminAccountPassNewField:"",updateAdminAccountPassRepeatField:""});default:return e}},tariffsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_TARIFFS_PENDING":return Object(_e.a)({},e,{isPending:!0});case"REQUEST_TARIFFS_SUCCESS":return Object(_e.a)({},e,{tariffField:t.payload[0].tariffs.gas,isPending:!1});case"REQUEST_TARIFFS_FAILED":return Object(_e.a)({},e,{error:t.payload,isPending:!1});case"CHANGE_UPDATE_TARIFFS_FIELD":return Object(_e.a)({},e,{tariffField:t.payload});case"RESET_TARIFFS_FIELDS":return Object(_e.a)({},e,{tariffField:""});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_PASSWORD_FIELD":return Object(_e.a)({},e,{passwordField:t.payload,error:""});case"SENDING_PASSWORD_PENDING":return Object(_e.a)({},e,{isPasswordPending:!0});case"SENDING_PASSWORD_SUCCESS":return Object(_e.a)({},e,{isPasswordPending:!1});case"SENDING_PASSWORD_ERROR":return Object(_e.a)({},e,{error:t.payload,isPasswordPending:!1});case"ON_CORRECT_RESPONSE":return Object(_e.a)({},e,{isResponseCorrect:!0});case"ON_WRONG_RESPONSE":return Object(_e.a)({},e,{isResponseCorrect:!1});default:return e}},projectsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_TITLE_FIELD":return Object(_e.a)({},e,{titleField:t.payload});case"CHANGE_BODY_FIELD":return Object(_e.a)({},e,{bodyField:t.payload});case"CHANGE_EDIT_TITLE_FIELD":return Object(_e.a)({},e,{editTitleField:t.payload});case"CHANGE_EDIT_BODY_FIELD":return Object(_e.a)({},e,{editBodyField:t.payload});case"REQUEST_PROJECTS_SUCCESS":return Object(_e.a)({},e,{loadedProjects:t.payload,isPending:!1});case"OPEN_INSERT_PROJECT_WINDOW":case"CLOSE_INSERT_PROJECT_WINDOW":return Object(_e.a)({},e,{insertWindowOpened:t.payload});case"OPEN_EDIT_PROJECT_WINDOW":case"CLOSE_EDIT_PROJECT_WINDOW":return Object(_e.a)({},e,{editWindowOpended:t.payload});case"SELECT_EDIT_PROJECT":return Object(_e.a)({},e,{editProjectID:t.payload,editBodyField:Hn(t.payload,e).body,editTitleField:Hn(t.payload,e).title,editImage1:Hn(t.payload,e).image1,editImage2:Hn(t.payload,e).image2,previewEditImage1:"",previewEditImage2:"",editWindowOpended:!0,insertWindowOpened:!1});case"SWITCH_INSERTION_PROJECT_SUCCESS":case"SWITCH_INSERTION_PROJECT_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackInsert:t.payload});case"SWITCH_UPDATE_PROJECT_SUCCESS":case"SWITCH_UPDATE_PROJECT_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackUpdate:t.payload});case"SWITCH_DELETE_PROJECT_SUCCESS":case"SWITCH_DELETE_PROJECT_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackDelete:t.payload});case"SET_PREVIEW_IMAGE_2":return Object(_e.a)({},e,{previewEditImage2:t.payload});case"SET_PREVIEW_IMAGE_1":return Object(_e.a)({},e,{previewEditImage1:t.payload});case"SET_UPLOAD_FILE_1":return Object(_e.a)({},e,{editFile1:t.payload});case"SET_UPLOAD_FILE_2":return Object(_e.a)({},e,{editFile2:t.payload});case"RESET_INSERT_PROJECT_FIELDS":return Object(_e.a)({},e,{titleField:"",bodyField:"",insertWindowOpened:!1});case"RESET_UPDATE_PROJECT_FIELDS":return Object(_e.a)({},e,{editTitleField:"",editBodyField:"",editProjectID:"",editImage1:"",editFile1:{},editFile2:{},editImage2:"",editWindowOpended:!1});case"RENDER_NEW_PROJECT":return Object(_e.a)({},e,{loadedProjects:[t.payload].concat(Object(Pe.a)(e.loadedProjects))});case"RENDER_UPDATE_PROJECT":return Object(_e.a)({},e,{loadedProjects:e.loadedProjects.map(function(n,a){return a===function(e,t){return t.loadedProjects.reduce(function(t,n,a){return n._id===e?t+a:t},0)}(t.payload._id,e)?t.payload:n})});case"RENDER_DELETE_PROJECT":return Object(_e.a)({},e,{loadedProjects:e.loadedProjects.filter(function(e){return e._id!==t.payload._id})});default:return e}},projectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_EDIT_WINDOW_PROJECT_ID":return Object(_e.a)({},e,{editableProjectID:t.payload});case"SWITCH_INSERTION_SUCCESS":case"SWITCH_INSERTION_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackInsert:t.payload});case"SWITCH_DELETE_SUCCESS":case"SWITCH_DELETE_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackDelete:t.payload});case"SWITCH_UPDATE_SUCCESS":case"SWITCH_UPDATE_SUCCESS_CLOSE":return Object(_e.a)({},e,{snackUpdate:t.payload});default:return e}},sectionImagesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADD_SECTION_IMAGE":return Object(_e.a)({},e,Object(it.a)({},t.payload.section,Object(Pe.a)(e[t.payload.section]).concat([t.payload.item])));case"RENDER_UPDATE_PHOTO":return Object(_e.a)({},e,Object(it.a)({},t.payload.section,t.payload.photos.map(function(e,n){return{id:"".concat(n),content:e,section:t.payload.section}})));case"RENDER_DELETE_PHOTO":return Object(_e.a)({},e,Object(it.a)({},t.payload.section,e[t.payload.section].filter(function(e){return e.content!==t.payload.image})));case"REQUEST_SECTION_IMAGES_SUCCESS":return Object(_e.a)({},e,{carousel:t.payload.carousel.map(function(e,t){return{id:"".concat(t),content:e,section:"carousel"}}),advertising:t.payload.advertising.map(function(e,t){return{id:"".concat(t),content:e,section:"advertising"}}),genPlan:t.payload.genPlan.map(function(e,t){return{id:"".concat(t),content:e,section:"genPlan"}}),gallery:t.payload.gallery.map(function(e,t){return{id:"".concat(t),content:e,section:"gallery"}}),path:t.payload.path.map(function(e,t){return{id:"".concat(t),content:e,section:"path"}})});case"REORDER_SECTION":return Object(_e.a)({},e,Object(it.a)({},t.payload.section,t.payload.order));default:return e}},tenantsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_TENANTS_PENDING":return Object(_e.a)({},e,{isPending:!0});case"REQUEST_TENANTS_SUCCESS":return Object(_e.a)({},e,{tenants:t.payload,isPending:!1});case"REQUEST_TENANTS_FAILED":return Object(_e.a)({},e,{error:t.payload,isPending:!1});case"CHANGE_INSERT_TENANT_NAME":return Object(_e.a)({},e,{insertTenantName:t.payload});case"CHANGE_INSERT_TENANT_EMAIL":return Object(_e.a)({},e,{insertTenantEmail:t.payload});case"CHANGE_INSERT_TENANT_HOUSENUMBER":return Object(_e.a)({},e,{insertTenantHouseNumber:t.payload});case"CHANGE_EDIT_TENANT_NAME":return Object(_e.a)({},e,{editTenantName:t.payload});case"CHANGE_EDIT_TENANT_EMAIL":return Object(_e.a)({},e,{editTenantEmail:t.payload});case"CHANGE_EDIT_TENANT_HOUSENUMBER":return Object(_e.a)({},e,{editTenantHouseNumber:t.payload});case"OPEN_INSERT_TENANT_WINDOW":case"CLOSE_INSERT_TENANT_WINDOW":return Object(_e.a)({},e,{insertWindowOpened:t.payload});case"OPEN_EDIT_TENANT_WINDOW":case"CLOSE_EDIT_TENANT_WINDOW":return Object(_e.a)({},e,{editWindowOpened:t.payload});case"SELECT_EDIT_TENANT":return Object(_e.a)({},e,{editTenantID:t.payload,editTenantName:Bn(t.payload,e).name,editTenantEmail:Bn(t.payload,e).email,editTenantHouseNumber:Bn(t.payload,e).houseNumber,editWindowOpened:!0,insertWindowOpened:!1});case"RESET_INSERT_TENANT_FIELDS":return Object(_e.a)({},e,{insertTenantEmail:"",insertTenantHouseNumber:"",insertTenantName:"",insertWindowOpened:!1});case"RESET_UPDATE_TENANT_FIELDS":return Object(_e.a)({},e,{editTenantEmail:"",editTenantHouseNumber:"",editTenantName:"",editTenantID:"",editWindowOpened:!1});case"RENDER_NEW_TENANT":return Object(_e.a)({},e,{loadedTenants:[t.payload].concat(Object(Pe.a)(e.loadedTenants))});case"ACTION_TENANT_PENDING":return Object(_e.a)({},e,{isTenantActionPending:!0});case"ACTION_TENANT_SUCCESS":return Object(_e.a)({},e,{tenants:t.payload,isTenantActionPending:!1});case"ACTION_TENANTS_FAILED":return Object(_e.a)({},e,{error:t.payload,isTenantActionPending:!1});default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"AUTH_PENDING":return Object(_e.a)({},e,{authPending:t.payload});case"AUTH_SUCCESS":return Object(_e.a)({},e,{isResponseCorrect:!0,authPending:!1});case"AUTH_SUCCESS":return Object(_e.a)({},e,{error:t.payload,authPending:!1});case"SNACK_STATUS_CLOSE":return Object(_e.a)({},e,{snackStatus:t.payload});case"SNACK_STATUS_OPEN":return Object(_e.a)({},e,{snackStatus:t.payload.status,snackType:t.payload.type,snackMessage:t.payload.message});case"ALERT_STATUS_CLOSE":return Object(_e.a)({},e,{alertStatus:t.payload});case"ALERT_STATUS_OPEN":return Object(_e.a)({},e,{alertStatus:t.payload.status,alertFunction:t.payload.alertFunction,alertMessage:t.payload.message});case"ALERT_STATUS_ACCEPT":return Object(_e.a)({},e,{alertStatus:t.payload.status,alertFunction:t.payload.alertFunction});default:return e}}}));Pn=Object(jn.e)(Qn,Object(jn.a)(Dn.a)),i.a.render(r.a.createElement(X.a,{store:Pn},r.a.createElement(An,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[268,2,1]]]);
//# sourceMappingURL=main.621ed36c.chunk.js.map